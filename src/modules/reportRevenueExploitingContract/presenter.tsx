import repository from './responsitory';
import moment from 'moment';
import { formatNumberDec } from '@view/shared/helper/functions';
import { useTranslate } from '@view/shared/hook/useTranslate';
import { businessContractTranslateKey } from '@view/shared/translateKey';

const reportRevenueExploitingContractPresenter = { ...repository };

const getInfoBusinessContract = async (businessContractId, filter) => {
  const data = await repository
    .getInfoBusinessContract(businessContractId, filter)
    .then((res) => {
      let constractValueByday = formatNumberDec(
        res.businessContractValue + '',
        '.',
        ',',
      );
      if (res.businessContractType === 1) {
        const momentStart = moment(res.businessContractStart);
        const momentEnd = moment(res.businessContractEnd);
        const dayDiff =
          moment.duration(momentEnd.diff(momentStart)).as('d') || 0;
        constractValueByday = formatNumberDec(
          Math.floor(res.businessContractValue / dayDiff) + '',
          '.',
          ',',
        );
      }
      const infoContract = [
        // {
        //   label: CONTRACT_CODE,
        //   content: res.businessContractCode,
        // },
        // {
        //   label: AUTHORITY_NAME,
        //   content: res.businessCustomer?.businessCustomerName,
        // },
        // {
        //   label: THIS_CONTRACT_TYPE,
        //   content:
        //     res.businessContractType == 0 ? COLUMN_VALUE_PER_SONG : ALL_ONE,
        // },
        // {
        //   label: START_DAY,
        //   content: moment(res.businessContractStart).format('DD/MM/YYYY'),
        // },
        // {
        //   label: END_DAY,
        //   content: moment(res.businessContractEnd).format('DD/MM/YYYY'),
        // },
        // {
        //   label: CONTRACT_VALUE,
        //   content:
        //     formatNumberDec(
        //       Math.floor(res.businessContractValue) + '',
        //       '.',
        //       ',',
        //     ) + ' VND',
        // },
        // {
        //   label:
        //     res.businessContractType === 0 ? VALUE_PER_SONG : VALUE_PER_DAY,
        //   content: constractValueByday + ' VND',
        // },
      ];
      return {
        infoContract,
        businessContract: res,
      };
    });

  return data;
};

export default { ...repository, getInfoBusinessContract };
